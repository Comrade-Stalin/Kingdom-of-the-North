<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Map | Kingdom of the North</title>
  <link rel="stylesheet" href="css/style.css"/>
  <style>
    /* ====== MAP PAGE (scoped) ====== */
    .map-page main { padding: 20px 0 0; }
    .map-wrap{
      position:relative;
      width:min(1400px,92vw);
      margin:20px auto 70px;
      line-height:0;              /* removes stray gaps around the img */
      border:1px solid #1e1e1e;
      box-shadow:0 20px 60px rgba(0,0,0,.55);
      background:#0d0d0d;
    }
    .map-img{
      display:block;
      width:100%;
      height:auto;               /* maintains aspect ratio */
      user-select:none;
      pointer-events:none;       /* clicks go to pins, not the img */
    }

    /* Pins – “red with white dot” look */
    .pin{
      --x:50%;
      --y:50%;
      position:absolute;
      top:var(--y); left:var(--x);
      transform:translate(-50%,-50%);
      width:16px; height:16px;
      border-radius:50%;
      background:#b40c0c;              /* red */
      box-shadow:
        0 0 0 2px #6b0000,             /* dark red ring */
        0 0 0 4px rgba(0,0,0,.25);     /* soft outline */
      cursor:pointer;
    }
    /* white center dot */
    .pin::after{
      content:"";
      position:absolute; inset:0;
      margin:auto;
      width:6px; height:6px;
      background:#faf7f2;
      border-radius:50%;
      transform:translateY(0.5px);     /* tiny optical nudge */
    }
    .pin:focus-visible{ outline:2px solid #fff; outline-offset:3px; }

    /* Little helper label on desktop */
    .map-hint{
      position:absolute; top:8px; right:8px;
      background:rgba(0,0,0,.55);
      color:#e6e1d3; font-size:.85rem;
      padding:.35rem .55rem; border-radius:6px;
      border:1px solid rgba(255,255,255,.12);
      z-index:3;
    }

    /* ===== Parchment modal ===== */
    .sheet-overlay{
      position:fixed; inset:0;
      background:rgba(0,0,0,.7);
      display:none;
      align-items:center; justify-content:center;
      z-index:9999;
      padding:2rem;
      backdrop-filter:blur(2px);
    }
    .sheet-overlay.open{ display:flex; }

    .sheet{
      position:relative;
      width:min(1100px, 92vw);
      max-height:88vh;
      overflow:auto;
      background:#d5c29a;                   /* parchment base tint */
      border:1px solid rgba(0,0,0,.25);
      box-shadow:0 30px 80px rgba(0,0,0,.7);
      border-radius:8px;
      padding:2rem 2rem 2.5rem;
    }

    .sheet h2{
      text-align:center;
      font-size:1.9rem;
      color:#2b1f14;
      margin:0 0 .25rem 0;
    }
    .sheet .sub{
      text-align:center;
      font-style:italic;
      color:#423225;
      margin-bottom:1rem;
    }

    /* The parchment graphic sits as a background behind the text area. */
    .sheet-body{
      position:relative;
      background: url('images/parchment1.png') center/contain no-repeat;
      /* generous padding so text sits comfortably "on" the parchment */
      padding: clamp(1.25rem, 3vw, 2rem) clamp(1.25rem, 3vw, 2.25rem);
      min-height: clamp(280px, 42vh, 520px);
      display:flex;
      align-items:center;
    }
    .sheet-body p{
      margin:0 auto;
      max-width: 58ch;
      font-size: clamp(1rem, 2.1vw, 1.1rem);
      line-height:1.7;
      color:#2a1e15;
      text-shadow: 0 1px 0 rgba(255,255,255,.25);
    }

    .sheet-close{
      position:absolute; top:.6rem; right:.8rem;
      background:none; border:none;
      color:#2b1f14; font-size:1.6rem;
      cursor:pointer; line-height:1;
    }

    /* Footer spacing on this page */
    .map-page footer{ margin-top:20px; }
  </style>
</head>
<body class="map-page">

  <!-- Header (sitewide) -->
  <header>
    <img src="images/northlogo.png" alt="The Kingdom of the North" class="logo">
    <nav>
      <a href="index.html">Home</a>
      <a href="laws.html">Laws</a>
      <a href="court.html">Winter Court</a>
      <a href="guard.html">Winter Guard</a>
      <a href="map.html">Map</a>
      <a href="stories.html">Stories</a>
      <a href="discord.html">Discord</a>
    </nav>
  </header>

  <main>
    <div class="map-wrap" id="mapWrap">
      <div class="map-hint">Click the red markers for details</div>
      <img id="northMap" class="map-img" src="images/northmap.jpg" alt="The North — map" />

      <!-- ======= PINS (percent positions) ======= -->
      <!-- North note: these coords are tuned to YOUR northmap.jpg with the ornate border. -->

      <!-- Winterfell -->
      <button class="pin" style="--x:53.3%; --y:59.9%"
        data-title="Winterfell"
        data-sub="Seat of House Stark"
        data-text="The ancient heart of the North. From winter’s snows to summer’s storms, the grey keep endures; its crypts and godswood older than memory.">
      </button>

      <!-- White Harbor -->
      <button class="pin" style="--x:62.2%; --y:79.6%"
        data-title="White Harbor"
        data-sub="City of the Manderlys"
        data-text="The North’s great port—a forest of masts and marble, trade flowing to the Bite and beyond. Spiced wine at the docks, oaths kept in the Merman’s Court.">
      </button>

      <!-- Deepwood Motte -->
      <button class="pin" style="--x:43.5%; --y:46.2%"
        data-title="Deepwood Motte"
        data-sub="Seat of House Glover"
        data-text="Pine‑dark hills and timber palisades; the Motte stands stubborn in wind and rain, a green banner over storm‑bent forest.">
      </button>

      <!-- Last Hearth -->
      <button class="pin" style="--x:60.2%; --y:37.4%"
        data-title="Last Hearth"
        data-sub="Seat of House Umber"
        data-text="Hard stone and harder men. A bastion on the long road south where the snows grow deep and tales grow taller.">
      </button>

      <!-- Karhold -->
      <button class="pin" style="--x:73.2%; --y:44.4%"
        data-title="Karhold"
        data-sub="Seat of House Karstark"
        data-text="A keep hewn from frost and tradition, its banners a sunburst in winter’s pale light; kin to Stark by ancient blood.">
      </button>

      <!-- Dreadfort -->
      <button class="pin" style="--x:66.7%; --y:60.0%"
        data-title="The Dreadfort"
        data-sub="Seat of House Bolton"
        data-text="Pale stone and darker tales; a fortress that watches the Weeping Water with an unblinking eye.">
      </button>

      <!-- Barrowton -->
      <button class="pin" style="--x:51.2%; --y:74.6%"
        data-title="Barrowton"
        data-sub="Seat of House Dustin"
        data-text="Mounds older than kingdoms, where barrow‑lords sleep beneath the heather and trade caravans circle like crows.">
      </button>

      <!-- The Rills -->
      <button class="pin" style="--x:45.7%; --y:76.9%"
        data-title="The Rills"
        data-sub="Marshland & Farms"
        data-text="Flooded flats laced with waterways—patient fields, reed cutters and riverwise folk.">
      </button>

      <!-- Moat Cailin -->
      <button class="pin" style="--x:57.6%; --y:84.7%"
        data-title="Moat Cailin"
        data-sub="The Neck"
        data-text="Broken towers in endless bog, yet stronger than any wall; the choke‑point that has humbled kings.">
      </button>

      <!-- The Twins (edge reference south) -->
      <button class="pin" style="--x:63.9%; --y:92.6%"
        data-title="The Twins"
        data-sub="Crossing of the Green Fork"
        data-text="Stone towers astride the river, gatekeepers to the south when the North rides.">
      </button>

      <!-- Skagos (island pin) -->
      <button class="pin" style="--x:64.9%; --y:20.5%"
        data-title="Skagos"
        data-sub="Island of hard winters"
        data-text="Steep‑cliffed and stubborn, where the sea gnaws at black rock and old ways endure.">
      </button>

      <!-- Bear Island -->
      <button class="pin" style="--x:52.3%; --y:33.8%"
        data-title="Bear Island"
        data-sub="Seat of House Mormont"
        data-text="Pines, storms, and a hall of warriors; the banner of the bear flying over cold surf.">
      </button>

      <!-- Ramsgate / Widows Watch coast marker (kept small) -->
      <button class="pin" style="--x:74.3%; --y:82.7%"
        data-title="Widows Watch"
        data-sub="Coastal Holdfast"
        data-text="Clifftop stones staring out upon the Shivering Sea; a watch kept for ships that never return.">
      </button>

      <!-- Three Sisters cluster (south-east edge) -->
      <button class="pin" style="--x:64.8%; --y:96.5%"
        data-title="Sisterton"
        data-sub="The Three Sisters"
        data-text="Salt, tide, and tricky channels; a haven to some, a hazard to others.">
      </button>

      <!-- Lonely Hills / Long Lake interior ref -->
      <button class="pin" style="--x:60.4%; --y:55.8%"
        data-title="Lonely Hills"
        data-sub="High Country"
        data-text="Windswept rises above Long Lake where hunters know the tracks better than any road.">
      </button>

      <!-- Cerwyn -->
      <button class="pin" style="--x:56.4%; --y:65.0%"
        data-title="Cerwyn"
        data-sub="Near Winterfell"
        data-text="A stout hold on the kingsroad, sworn close and long to Stark.">
      </button>

      <!-- Barrow Hall (small but notable) -->
      <button class="pin" style="--x:49.0%; --y:79.0%"
        data-title="Barrow Hall"
        data-sub="Dustin Lands"
        data-text="Timber halls by ancient mounds, where the wind hums over heathered barrows.">
      </button>

    </div>
  </main>

  <!-- Parchment Modal -->
  <div id="sheet" class="sheet-overlay" role="dialog" aria-modal="true" aria-labelledby="sheetTitle">
    <div class="sheet">
      <button class="sheet-close" aria-label="Close">&times;</button>
      <h2 id="sheetTitle">Title</h2>
      <div class="sub" id="sheetSub">Subtitle</div>
      <div class="sheet-body">
        <p id="sheetText">…</p>
      </div>
    </div>
  </div>

  <!-- Footer (sitewide) -->
  <footer>
    <p>&copy; 2025 Kingdom of the North RP | From the Neck to the Shivering Sea</p>
  </footer>

  <script>
    // Open parchment with data from the clicked pin
    const overlay = document.getElementById('sheet');
    const titleEl = document.getElementById('sheetTitle');
    const subEl   = document.getElementById('sheetSub');
    const textEl  = document.getElementById('sheetText');

    document.querySelectorAll('.pin').forEach(pin=>{
      pin.addEventListener('click', ()=>{
        titleEl.textContent = pin.dataset.title || '';
        subEl.textContent   = pin.dataset.sub   || '';
        textEl.textContent  = pin.dataset.text  || '';
        overlay.classList.add('open');
      });
      pin.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); pin.click(); }
      });
    });

    const closeBtn = document.querySelector('.sheet-close');
    const closeOverlay = () => overlay.classList.remove('open');
    closeBtn.addEventListener('click', closeOverlay);
    overlay.addEventListener('click', (e)=>{ if(e.target === overlay) closeOverlay(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeOverlay(); });
  </script>
</body>
</html>
