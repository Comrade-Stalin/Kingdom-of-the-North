<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Map | Kingdom of the North</title>
  <link rel="preload" as="image" href="images/northmap.jpg">
  <link rel="preload" as="image" href="images/parchment1.png">
  <style>
    /* ---------- Base ---------- */
    :root{
      --ink:#e9e4d0;
      --ink-dim:#cfc7ac;
      --bg:#0e0e0e;
      --pin:#d64040;
      --pin-glow:#ff7b7b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:#0d0d0d;
      color:var(--ink);
      font:16px/1.55 georgia, "Times New Roman", serif;
    }
    a{color:#9dd1ff;text-decoration:none}
    a:hover{text-decoration:underline}

    /* ---------- Header / Nav (same look as other pages) ---------- */
    header{
      display:flex;align-items:center;justify-content:space-between;
      padding:12px 28px;border-bottom:2px solid #222;background:#111;
      position:sticky;top:0;z-index:50;
    }
    header img.logo{height:58px}
    nav{display:flex;gap:22px;flex-wrap:wrap}
    nav a{color:#e0e0e0;font-weight:700;font-size:15px}
    nav a:hover{color:#ff6b6b}

    /* ---------- Map Stage ---------- */
    .map-wrap{
      display:flex;justify-content:center;padding:24px 0 40px;
      background:var(--bg);
    }
    /* The stage keeps the same aspect ratio as northmap.jpg (1133x768)  */
    .map-stage{
      position:relative;
      width:min(92vw, 1400px);
      aspect-ratio: 1133 / 768;           /* <-- keeps image ratio exact */
      background:url("images/northmap.jpg") center/cover no-repeat;
      border:1px solid #2b2b2b;
      box-shadow:0 20px 60px rgba(0,0,0,.6);
      overflow:hidden;
    }

    /* Tooltip badge (top-right) */
    .map-tip{
      position:absolute;right:10px;top:10px;
      background:rgba(17,17,17,.85);padding:6px 10px;border-radius:6px;
      font-size:12px;border:1px solid #2b2b2b;z-index:1
    }

    /* ---------- Pins ---------- */
    .pin{
      --x:50; --y:50;
      position:absolute; left:calc(var(--x)*1%); top:calc(var(--y)*1%);
      transform:translate(-50%,-50%);
      width:18px;height:18px;border-radius:50%;
      background:radial-gradient(circle at 35% 35%, #ffd4d4 0 35%, var(--pin) 36% 100%);
      border:2px solid #520a0a;
      box-shadow:0 0 0 2px rgba(0,0,0,.35), 0 0 14px 2px var(--pin-glow);
      cursor:pointer;
    }
    .pin:hover{transform:translate(-50%,-50%) scale(1.08)}
    .pin::after{
      content:attr(data-name);
      position:absolute;left:50%;top:-12px;transform:translate(-50%,-100%);
      background:rgba(15,15,15,.85);border:1px solid #2c2c2c;border-radius:6px;
      padding:4px 8px;font-size:12px;white-space:nowrap;opacity:0;
      transition:.15s;pointer-events:none
    }
    .pin:hover::after{opacity:1;top:-16px}

    /* ---------- Modal (parchment) ---------- */
    .scrim{
      position:fixed;inset:0;background:rgba(0,0,0,.7);
      display:none;align-items:center;justify-content:center;z-index:1000;
      padding:2.5vw;
    }
    .scrim.show{display:flex}

    .modal{
      position:relative;
      width:min(94vw, 1100px);
      max-height:90vh;
      background:#d9c89e;                   /* parchment backing */
      border:1px solid #2a261a;
      box-shadow:0 20px 80px rgba(0,0,0,.75);
      overflow:auto;
      border-radius:6px;
    }
    .close{
      position:sticky;float:right;top:10px;right:12px;
      margin:10px 10px 0 0;border:0;background:none;color:#2b2416;
      font:700 28px/1 system-ui, sans-serif;cursor:pointer
    }
    .modal-header{
      text-align:center;padding:18px 16px 6px;color:#2b2416
    }
    .modal-header h2{margin:0;font-size:28px}
    .modal-header .sub{opacity:.85;font-style:italic}

    /* Scroll art with real text inset */
    .scroll{
      position:relative;margin:20px auto 12px;
      width:min(90vw, 1000px);
      aspect-ratio: 1200 / 768;             /* parchment1.png ratio */
      background:url("images/parchment1.png") center/contain no-repeat;
    }
    .scroll .inset{
      position:absolute;inset:16% 10% 20% 10%; /* tuck text inside paper */
      color:#201a10;
      overflow:auto;
      font-size:1.08rem;
    }

    .modal-footer{
      padding:0 24px 18px;color:#201a10
    }

    /* ---------- Footer ---------- */
    footer{
      text-align:center;color:#8a8a8a;border-top:1px solid #333;
      padding:20px;margin-top:40px
    }
  </style>
</head>

<body>
  <header>
    <img src="images/northlogo.png" alt="The Kingdom of the North" class="logo">
    <nav>
      <a href="index.html">Home</a>
      <a href="laws.html">Laws</a>
      <a href="court.html">Winter Court</a>
      <a href="guard.html">Winter Guard</a>
      <a href="map.html">Map</a>
      <a href="stories.html">Stories</a>
      <a href="discord.html">Discord</a>
    </nav>
  </header>

  <main class="map-wrap">
    <div class="map-stage" id="map">
      <div class="map-tip">Click the red markers for details</div>

      <!-- ############### PINS ############### -->
      <!-- IMPORTANT: These are % coords against the 1133x768 map image.
           They align because .map-stage has the same aspect-ratio.       -->

      <!-- Major seats / holds -->
      <button class="pin" style="--x:57.0; --y:49.0" data-name="Winterfell"
        data-title="Winterfell" data-sub="Seat of House Stark"
        data-text="The ancient heart of the North. From winter’s snows to summer’s storms, the grey keep endures; its crypts and godswood older than memory.">
      </button>

      <button class="pin" style="--x:60.2; --y:58.6" data-name="Hornwood"
        data-title="Hornwood" data-sub="Seat of House Hornwood"
        data-text="Timbered hills and hard men. Spearwives and axemen alike are forged where the deep woods meet the harsh winds.">
      </button>

      <button class="pin" style="--x:53.6; --y:44.6" data-name="Wolfswood"
        data-title="Wolfswood" data-sub="Forest Region"
        data-text="The great forest of the North: hunt-paths, scattered crofts, charcoalers’ camps and old gods watching from ancient weirwoods.">
      </button>

      <button class="pin" style="--x:78.8; --y:37.7" data-name="Karhold"
        data-title="Karhold" data-sub="Seat of House Karstark"
        data-text="Cold-battered cliffs and stern longhalls. The Karstarks keep a hard vigil over the grey coasts and ice-flecked sea.">
      </button>

      <button class="pin" style="--x:72.8; --y:59.8" data-name="Ramsgate"
        data-title="Ramsgate" data-sub="Harbor of the Bite"
        data-text="Salt-wet docks and traders’ cries. Ramsgate ferries timber, furs and iron to the southern markets of the Vale.">
      </button>

      <button class="pin" style="--x:67.5; --y:66.8" data-name="Oldcastle"
        data-title="Oldcastle" data-sub="Ancient Keep"
        data-text="A weathered fort of the old kings, stones sea-worn and stubborn as the people who man its walls.">
      </button>

      <button class="pin" style="--x:62.5; --y:70.7" data-name="Three Sisters"
        data-title="The Three Sisters" data-sub="Isles in the Bite"
        data-text="Mist, shoals and fisher-folk. Smugglers know these channels as well as any septon knows his prayers.">
      </button>

      <button class="pin" style="--x:87.9; --y:91.2" data-name="White Harbor"
        data-title="White Harbor" data-sub="Seat of House Manderly"
        data-text="Marble quays and green-sailed cogs—wealth flows where the Manderlys keep the King’s Peace with silver… and swords.">
      </button>

      <!-- Region & towns -->
      <button class="pin" style="--x:61.3; --y:35.6" data-name="Last Hearth"
        data-title="Last Hearth" data-sub="Seat of House Umber"
        data-text="The Umbers of the far north: mead, merriment and massive axes. Their oaths are as blunt and binding as their blades.">
      </button>

      <button class="pin" style="--x:55.5; --y:55.0" data-name="Sheepshead Hills"
        data-title="Sheepshead Hills" data-sub="Downlands"
        data-text="Rolling chalk and tough pasture. Good ground for hardy flocks and hardier shepherds.">
      </button>

      <button class="pin" style="--x:50.2; --y:61.9" data-name="Barrowton"
        data-title="Barrowton" data-sub="Seat of House Dustin"
        data-text="A town among the old kings’ graves. Dust, trade and proud memories of the First Men.">
      </button>

      <button class="pin" style="--x:45.2; --y:86.5" data-name="Moat Cailin"
        data-title="Moat Cailin" data-sub="Neck Fortress"
        data-text="Black marsh, green snakes and broken towers. A handful of spears can halt an army here.">
      </button>

      <button class="pin" style="--x:35.5; --y:83.4" data-name="Flints Finger"
        data-title="Flint’s Finger" data-sub="Headland Hold"
        data-text="Wind-scoured cliffs and a sharp-eyed people who know the sea’s temper and the land’s old songs.">
      </button>

      <button class="pin" style="--x:42.0; --y:66.8" data-name="The Rills"
        data-title="The Rills" data-sub="Marshland & Farms"
        data-text="Flooded flats laced with waterways—patient fields, reed cutters and riverwise folk.">
      </button>

      <button class="pin" style="--x:71.1; --y:52.2" data-name="Dreadfort"
        data-title="The Dreadfort" data-sub="Seat of House Bolton"
        data-text="Pale stone and darker reputation. Pink-standarded knights ride from these halls as silently as snow.">
      </button>

      <button class="pin" style="--x:48.8; --y:42.4" data-name="Deepwood Motte"
        data-title="Deepwood Motte" data-sub="Seat of House Glover"
        data-text="A stout timbered motte guarding the western woods, its people as unyielding as ironbark.">
      </button>

      <button class="pin" style="--x:53.4; --y:75.7" data-name="Greymen’s Watch"
        data-title="Greymen’s Watch" data-sub="The Neck"
        data-text="Watchposts and wetland tracks—the South must come here one cautious mile at a time.">
      </button>

      <button class="pin" style="--x:59.3; --y:79.9" data-name="The Bite"
        data-title="The Bite" data-sub="Northern Sea"
        data-text="Cold depths, fog and sudden squalls. Sailors swear the sea has teeth here.">
      </button>

      <button class="pin" style="--x:66.5; --y:43.6" data-name="Lonely Hills"
        data-title="The Lonely Hills" data-sub="High Country"
        data-text="Wind‑carved heights, thin soil and old cairns. Go softly; the hills remember.">
      </button>

      <button class="pin" style="--x:38.8; --y:61.3" data-name="Torrhens Square"
        data-title="Torrhen’s Square" data-sub="Market & Holdfast"
        data-text="A square with market stalls and a loyal holdfast—named for a king who bent to keep his people.">
      </button>

      <button class="pin" style="--x:31.6; --y:73.7" data-name="Blazewater Bay"
        data-title="Blazewater Bay" data-sub="Western Shore"
        data-text="Grey seas, black cliffs and red sunsets that give the bay its name.">
      </button>

      <button class="pin" style="--x:24.2; --y:88.4" data-name="Ironman’s Bay"
        data-title="Ironmans Bay" data-sub="Western Marches"
        data-text="Cold tides and ironborn raids; the North remembers, and watches.">
      </button>

      <button class="pin" style="--x:78.1; --y:71.8" data-name="Widows Watch"
        data-title="Widow’s Watch" data-sub="Clifftop Tower"
        data-text="A lonely light set high over the surf—widows keep the lamps burning for men who never came home.">
      </button>

      <!-- ################################### -->
    </div>
  </main>

  <!-- Modal / parchment -->
  <div class="scrim" id="scrim" role="dialog" aria-modal="true" aria-labelledby="md-title">
    <div class="modal">
      <button class="close" id="closeBtn" aria-label="Close">×</button>
      <div class="modal-header">
        <h2 id="md-title">Title</h2>
        <div class="sub" id="md-sub">Subtitle</div>
      </div>
      <div class="scroll">
        <div class="inset" id="md-body">
          <!-- text injected here -->
        </div>
      </div>
      <div class="modal-footer"></div>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 Kingdom of the North RP | From the Neck to the Shivering Sea</p>
  </footer>

  <script>
    // Open parchment with pin data
    const scrim   = document.getElementById('scrim');
    const mdTitle = document.getElementById('md-title');
    const mdSub   = document.getElementById('md-sub');
    const mdBody  = document.getElementById('md-body');

    document.querySelectorAll('.pin').forEach(pin=>{
      pin.addEventListener('click', ()=>{
        mdTitle.textContent = pin.dataset.title || pin.dataset.name || 'Entry';
        mdSub.textContent   = pin.dataset.sub   || '';
        mdBody.textContent  = pin.dataset.text  || '';
        scrim.classList.add('show');
      });
    });

    document.getElementById('closeBtn').addEventListener('click', ()=> scrim.classList.remove('show'));
    scrim.addEventListener('click', (e)=>{ if(e.target===scrim) scrim.classList.remove('show'); });

    // (Optional) ESC closes
    addEventListener('keydown', e=>{ if(e.key==='Escape') scrim.classList.remove('show'); });
  </script>
</body>
</html>
